<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<META HTTP-EQUIV="Pragma" CONTENT="no-cache">

<title>Arachne-Slim</title>

<!-- This provides support for canvas draw commands under at least some versions of Microsloth's InternetExplorer -->
<!--[if IE]>
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" /> 
<script src="libs/excanvas.compiled.js"></script>
<![endif]-->
<!-- This library lets me use text functions for non-html5-compliant browsers, using the closest-thing-to-native you can get. -->
<script type="text/javascript" src="libs/canvas.text.js"></script>
<!-- General-purpose javascript library to help cross-platform compatibility and other issues. see http://jquery.com -->
<link type="text/css" href="css/smoothness/jquery-ui-1.7.2.custom.css" rel="Stylesheet"></link>	
<script type="text/javascript" src="js/jquery-1.3.2.min.js"></script>
<script type="text/javascript" src="libs/jquery.mousewheel.min.js"></script>
<script type="text/javascript" src="js/jquery-ui-1.7.2.custom.min.js"></script>
<script type="text/javascript" src="libs/ajax-upload.3.5.js"></script>
<!-- This provides a font that can be used in a canvas context, until FillText and StrokeText become available with html5 -->
<script type="text/javascript" src="libs/canvastext.js"></script>
<!-- 3-d view classes. -->
<script type="text/javascript" charset="utf-8">
  if (window['loadFirebugConsole']) {
      window.loadFirebugConsole();
  } else if (!window['console']) {
      window.console = {};
      window.console.info =
      window.console.log =
      window.console.warn =
      window.console.error = function(){}
  }
</script>
<script type="text/javascript" src="o3djs/base.js"></script>
<!-- My classes for doing histograming and other displays-->
<script type="text/javascript" src="EventInfoDisplay.js"></script>
<script type="text/javascript" src="Pad.js"></script>
<script type="text/javascript" src="Histogram.js"></script>
<script type="text/javascript" src="HistCanvas.js"></script>
<script type="text/javascript" src="ColorScale.js"></script>
<script type="text/javascript" src="HitMap.js"></script>
<script type="text/javascript" src="TriDView.js"></script>
<script type="text/javascript" src="scanner-info.js"></script>
<script type="text/javascript" src="StateMachine.js"></script>
<!-- Main scripts. Start here. -->
<script type="text/javascript" src="arachne.js" ></script>

<!-- Main CSS sheet for basic layout, custom mods. -->
<link rel="stylesheet" href="arachne.css" type="text/css" media="screen"></link>
<style type="text/css" media="screen">
/*local overrides here, mostly for development.*/
#content-left { float: left; width: 200px;}
#content-middle { margin-left: 200px; width: 600px;}
</style>
<script src="StateMachine.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>

  <div id="header" >
    <center>
    <h4 style="margin: 0;">Arachne - a web based event display</h4> 
    </center>
    <div class="header-links">
      <a class="align-left" href="http://substitute.pas.rochester.edu/mediawiki/index.php?title=Arachne">Documentation</a>
      <span class="align-right" id="link-to-this-event">Link to this event</span>
    </div>
    
    <table border="0" width="100%"><tr>
    <td width="5%">Status:</td><td><div id="status">Script loading...</div></td>
    </table>
  </div> <!-- header -->

  <div id="content">
  <div id="content-top">
    <!-- INPUT -->
    <div id="input-rsg" >
    	  <form id="gateId"  action="" >
        <table border="0" width="100%">
        <tr>
        <td>(Tracking Prototype Runs)</td>
        <td><label>Run:   </label><input class="ui-state-default" type="text" size="5" id="run"    value="580"/></td>
        <td><label>SubRun:</label><input class="ui-state-default" type="text" size="5" id="subrun" value="4"/></td>
        <td><label>Gate:  </label><input class="inGate ui-state-default" type="text" size="5" id="gate"   value="12" />
            <input class="inPrevGate ui-state-default ui-corner-all" type="button"  value="Prev Gate" />
            <input class="inNextGate ui-state-default ui-corner-all" type="button"  value="Next Gate" />
          </td>
        <td> <input class="ui-state-default ui-corner-all" type="button" id="go_rsg" value="Go!" /></td>
        </tr>
        </table>
        </form> 
      </div>

    <table border="0" width="100%">
      <tr>
        <td width="50%">Current slice:<span id="current-slice" class="slice-color">All Hits</span></td>
        <td width="50%">
          <button class="ui-state-default ui-corder-all do-slice-next">Next Slice</button>
          <button class="ui-state-default ui-corder-all do-slice-prev">Prev Slice</button>
          <button class="ui-state-default ui-corder-all do-slice-zero">Orphans</button>
          <button class="ui-state-default ui-corder-all do-slice-all ">All hits</button>
          </td>     
        </tr>
    </table>

  </div> <!-- content-top -->

  <div id="content-left">
    <div class="boxed">
    <div>
      <button class="ui-state-default ui-corder-all do-prev-slice-and-gate">Prev Slice+Gate</button>
      <button class="ui-state-default ui-corder-all do-next-slice-and-gate">Next Slice+Gate</button>
      
    </div>
    <div class="accordion">Event Information</div>  
    <div id="event-info" class="event-info">
      <table border="0" class="event-info" >
        <tr>  <td width="100px" class="event-info-caption">Detector</td>       <td class="event-info-el event-info-detector">    </td></tr>
        <tr>  <td width="100px" class="event-info-caption">Detector Config</td><td class="event-info-el event-info-det-config">  </td></tr>
        <tr>  <td width="100px" class="event-info-caption">Run</td>            <td class="event-info-el event-info-run">         </td></tr>
        <tr>  <td width="100px" class="event-info-caption">Subrun</td>         <td class="event-info-el event-info-subrun">      </td></tr>
        <tr>  <td width="100px" class="event-info-caption">Trigger type</td>   <td class="event-info-el event-info-trigger-type"></td></tr>
        <tr>  <td width="100px" class="event-info-caption">Cal. Settings</td>  <td class="event-info-el event-info-cal-settings"></td></tr>
        <tr>  <td width="100px" class="event-info-caption">GL Gate</td>        <td class="event-info-el event-info-gl-gate">     </td></tr>
        <tr>  <td width="100px" class="event-info-caption">Gate</td>           <td class="event-info-el event-info-gate">        </td></tr>
        <tr>  <td width="100px" class="event-info-caption">GPS Time</td>       <td class="event-info-el event-info-gps-time">    </td></tr>
        <tr>  <td width="100px" class="event-info-caption">Readout</td>        <td class="event-info-el event-info-readout">     </td></tr>
        <tr>  <td width="100px" class="event-info-caption">Errors</td>         <td class="event-info-el event-info-errors">      </td></tr>
      </table>
      <table border="0" class="event-info" >
        <tr>  <td width="100px" class="event-info-caption">ID Hits</td>           <td class="event-info-el event-info-id-hits">          </td></tr>
        <tr>  <td width="100px" class="event-info-caption">OD Hits</td>           <td class="event-info-el event-info-od-hits">          </td></tr>
        <tr>  <td width="100px" class="event-info-caption">Slices</td>            <td class="event-info-el event-info-slices">           </td></tr>
        <tr>  <td width="100px" class="event-info-caption">ID Hits per module</td><td class="event-info-el event-info-id-hits-per-mod">  </td></tr>
        <tr>  <td width="100px" class="event-info-caption">OD Hits per module</td><td class="event-info-el event-info-od-hits-per-mod">  </td></tr>
        <tr>  <td width="100px" class="event-info-caption">Total PE</td>          <td class="event-info-el event-info-total-pe">         </td></tr>
        <tr>  <td width="100px" class="event-info-caption"># of Clusters</td>     <td class="event-info-el event-info-num-clusters">     </td></tr>
        <tr>  <td width="100px" class="event-info-caption"># of Tracks</td>       <td class="event-info-el event-info-num-track">        </td></tr>
      </table>
    </div>
    </div>
  </div>
  <div id="content-right">
    

    <div class="boxed">
    <div class="accordion">New Scan Entry</div>  
    <div id="scan-entry" class="scan-input">
      <span class="scan-input">User Name:</span>
        <input type="text" class="ui-state-default" id="inScanUserName" value="Anonymous Coward" />
        <br />

        <span class="scan-input">Flags:</span><br />
          <input type="checkbox" class="ui-state-default scan-input"  id="inScanCheckboxBit1" value="0" /><span class="scan-input">1</span><br />
          <input type="checkbox" class="ui-state-default scan-input"  id="inScanCheckboxBit2" value="0" /><span class="scan-input">2</span><br />
          <input type="checkbox" class="ui-state-default scan-input"  id="inScanCheckboxBit3" value="0" /><span class="scan-input">3</span><br />
          <input type="checkbox" class="ui-state-default scan-input"  id="inScanCheckboxBit4" value="0" /><span class="scan-input">4</span><br />

      <span class="scan-input">Track Prongs</span>
        <select id="inScan_TrackProngs"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select><br />
      <span class="scan-input">Shower Prongs</span>
        <select id="inScan_ShowerProngs"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select><br />
      <span class="scan-input">Vertex Hits</span>
        <select id="inScan_VertexHits"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select><br />      
      
      <span class="scan-input">Prong 1:</span>
        <span class="scan-input"><input type="radio" name="inScan_Prong1" value="0" checked="checked"/>N/A</span>
        <span class="scan-input"><input type="radio" name="inScan_Prong1" value="1"/>Exit HCAL rear</span>
        <span class="scan-input"><input type="radio" name="inScan_Prong1" value="2"/>Exit HCAL side</span>
        <span class="scan-input"><input type="radio" name="inScan_Prong1" value="3"/>Scattered</span>
        <span class="scan-input"><input type="radio" name="inScan_Prong1" value="4"/>Shower</span>
        <br /><br />

      <span class="scan-input">Prong 2:</span>
        <span class="scan-input"><input type="radio" name="inScan_Prong2" value="0" checked="checked"/>N/A</span>
        <span class="scan-input"><input type="radio" name="inScan_Prong2" value="1"/>Exit HCAL rear</span>
        <span class="scan-input"><input type="radio" name="inScan_Prong2" value="2"/>Exit HCAL side</span>
        <span class="scan-input"><input type="radio" name="inScan_Prong2" value="3"/>Scattered</span>
        <span class="scan-input"><input type="radio" name="inScan_Prong2" value="4"/>Shower</span>
        <br /><br />

      <span class="scan-input">Prong 3:</span>
        <span class="scan-input"><input type="radio" name="inScan_Prong3" value="0" checked="checked"/>N/A</span>
        <span class="scan-input"><input type="radio" name="inScan_Prong3" value="1"/>Exit HCAL rear</span>
        <span class="scan-input"><input type="radio" name="inScan_Prong3" value="2"/>Exit HCAL side</span>
        <span class="scan-input"><input type="radio" name="inScan_Prong3" value="3"/>Scattered</span>
        <span class="scan-input"><input type="radio" name="inScan_Prong3" value="4"/>Shower</span>
        <br /><br />


      <span class="scan-input">Gamma Conversions</span>
        <select id="inScan_GammaConversions"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select><br />
      <span class="scan-input">K0/&Lambda; decays</span>
        <select id="inScan_VeeVertices"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select><br />
      <span class="scan-input">Neutron Stars</span>
        <select id="inScan_neutrons"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select><br />

      

       <span class="scan-input">Notes:</span><br />
       <textarea class="ui-state-default scan-input" rows="2" style="width: 98%" id="inScanNotes"></textarea><br /> 
       <input class="ui-state-default ui-corner-all" type="button"\ id="goScanSubmit" value="Submit" />
    </div> <!-- scan-entry -->
    </div>

    <div class='boxed'>
    <div class="accordion">Hand-scan records</div>  
    <div id="scan-info"></div>
    </div>
    
    
  </div> <!-- content-right -->

  <div id="content-middle">
    <div class="accordion">Hit Map X:</div>
      <div id="bigXZ" style="width:100%; height:400px"></div> 
    
    <div class="accordion">All Hit Maps:</div>  
    <div id="hitmaps">
      <table border="0" style="font-size: 0.875em">
      <tr>
      <td> OD - Tower 5  <div id="tower5" style="width:200px; height:80px"></div>  </td>
      <td> OD - Tower 6  <div id="tower6" style="width:200px; height:80px"></div>  </td>
      <td> OD - Tower 4  <div id="tower4" style="width:200px; height:80px"></div>  </td>
      </tr>
      <tr>
      <td> ID - X View  <div id="xz" style="width:100%; height:250px"></div>  </td>
      <td> ID - U View  <div id="uz" style="width:100%; height:250px"></div>  </td>
      <td> ID - V View  <div id="vz" style="width:100%; height:250px"></div>  </td>
      </tr>
      <td> OD - Tower 2  <div id="tower2" style="width:100%; height:80px"></div>  </td>
      <td> OD - Tower 3  <div id="tower3" style="width:100%; height:80px"></div>  </td>
      <td> OD - Tower 1  <div id="tower1" style="width:100%; height:80px"></div>  </td>   
      </table>
    </div>
  
    <div class="accordion">PE Histogram</div>    
    <div id="pehist-div" style="height: 200px"></div>
  </div> <!-- content-middle -->
  
   <div> <!-- content -->

</body>
</html>
